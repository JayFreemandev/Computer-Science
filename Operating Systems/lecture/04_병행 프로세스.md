여러개의 CPU(멀티 프로세서)에서 병행 프로세스가 실행되는 경우 메모리 구조에 따라 차이가 있다.

**tight coupled**

여러 CPU가 하나의 기억장치를 공유한다, 하나의 운영체제가 모든 CPU와 하드웨어를 제어해서 master/salve 환경이나 SMP(대칭구조)가 해다왼다.

**loosely coupled**

2개 이상의 독립된 컴퓨터 시스템이 네트워크를 통해 연결된다. 각 시스템은 자신의 운영체제와 기억 장치를 가지고 있으며, 독립적으로 운영되고 필요할 때 통신한다. 서로 참조가 가능해서 부하 조절이 필요할때 도움받는다. 

RPC 호출 방식을 이용하며 클러스터 구조가 위 환경에 해당한다.

병행 프로세스는 프로세스 간의 관계에 따라 독립이냐 협력이냐 나뉜다.

**독립 프로세스**

다른 프로세스에 영향을 주지도 받지도않는다. 공유도 안하고 다른 프로세스 상관없이 중지되거나 재시작이 가능한 프로세스다.

**협력 프로세스**

수행 중인 다른 프로세스와 영향을 주고받는 프로세스이다 데이터 공유하고 독립 프로세스와 다르게 비결정적이며 재생이 불가능하다. 데이터가 동일 하더라도 결과가 달라질 수 있다. 두 사람이 한 계좌에 돈을 입금하거나 출금하는 예시가 그 예다.

병행성과 관련된 문제가 발생할 수 있다.
상호배제(mutual exclusion)은 2개 이상의 프로세스가 동시에 임계영역을 접근 금지
동기화는 2개 이상의 프로세스에 대한 처리 순서를 결정, 상호배제도 동기화 문제

통신

프로세스간 통신은 공유 메모리 or 메시지 두가지 방법이다. 이 두가지 방법은 하나의 운영체제에서 함께 사용될 수 있다.

공유 메모리

협력 프로세스가 동일한 변수를 사용함으로써 데이터 공유한다. 각 메모리에 직접 접근하여 대량의 데이터를 읽을 수 있어서 속도가 좋다. 대신 생산자-소비자, 판독기-기록기 문제처럼 상호배제나 동기화같은 통신중 발생 문제를 해결해야한다.

메세지

커널이 제공하는 연산 send와 연산 receive를 사용하여 데이터를 공유, 매번 시스템 호출이기 때문에 소량의 데이터가 적절하고 대신 통신상 발생 문제는 운영체제가 책임진다.

운영체제는 다음과 같은 메세지 전달방법과 논리적인 과정이 존재한다.

통신 링크

두 프로세스가 메세지 주고 받을때 그 사이 통신 링크가 존재한다. 형태 변환에 자유롭다

- 하나의 링크에 n개의 프로세스
- 하나의 프로세스 n개의 링크
- 링크의 방향성을 단방향 or 양방향?
- 링크의 용량은 뭘로?

직접 통신

두 프로세스가 서로를 지정해서 주고 받는다. 하나의 통신 링크가 자동으로 설정되고 양방향으로 제공한다. 이때를  대칭형 주소 지정이라고하고 수신자가 송신자를 미리 정하지않고 메세지 받을 때 송신자 이름 받으면 비대칭 주소라한다.

비대칭형은 receive처럼 메세지를 m에 받으며 이름을 id에받는 형태로 수신자가 여러 송신자와 통신 링크를 가지는 경우 사용된다.

간접 통신

두 프로세스 사이 우체통놔두고 알아서 메세지 주고 받는다. 이때 통신 링크는 두프로세스가 같은 우편함 사용할때, 하나가 송신자면 다른 하나는 수신자여야된다. 

수신자가 여러개일수도 있어서 누가 메세지 받을것인지 한순간에 하나의 수신자만 접근하도록 관리한다. 이 경우 수신자 송신자 역할이 바뀔수도 있어서 통신 링크는 양방향으로볼 수 있다.
